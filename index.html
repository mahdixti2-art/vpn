<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NextVPN - Ù¾Ù†Ù„ ÙØ±ÙˆØ´</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;400;900&display=swap');
        body { font-family: 'Vazirmatn', sans-serif; background-color: #020617; }
        .animate-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ø³Ø®Ù‡ HTML
        const Icon = ({ name, size = 20, className = "" }) => (
            <span className={`inline-block ${className}`} style={{ fontSize: size }}>{name}</span>
        );

        function App() {
            const [step, setStep] = useState(1);
            const [months, setMonths] = useState(1);
            const [volume, setVolume] = useState(10);
            const [contact, setContact] = useState('');
            const [loading, setLoading] = useState(false);
            const [isSuccess, setIsSuccess] = useState(false);
            const [previewUrl, setPreviewUrl] = useState(null);
            const [receiptImage, setReceiptImage] = useState(null);

            const BOT_TOKEN = "8302811186:AAEMBp9XhMGiW4WaBNF-F59BeDGa_gHV1To";
            const CHAT_ID = "8474397291";
            const CARD_NUMBER = "6219861908913584"; 
            const CARD_NAME = "Ù…Ù„ÛŒØ­Ù‡ Ù…Ø®ØªØ§Ø±ÛŒ";

            const totalPrice = (months * 30000) + (volume * 5000);

            const handleImageChange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    setReceiptImage(file);
                    setPreviewUrl(URL.createObjectURL(file));
                }
            };

            const sendToTelegram = async () => {
                const caption = `ğŸš€ Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯\nğŸ“… Ù…Ø¯Øª: ${months} Ù…Ø§Ù‡\nğŸ’¾ Ø­Ø¬Ù…: ${volume} Ú¯ÛŒÚ¯\nğŸ’° Ù…Ø¨Ù„Øº: ${totalPrice.toLocaleString()} ØªÙˆÙ…Ø§Ù†\nğŸ‘¤ Ù…Ø´ØªØ±ÛŒ: ${contact}`;
                const formData = new FormData();
                formData.append('chat_id', CHAT_ID);
                formData.append('caption', caption);
                formData.append('photo', receiptImage);

                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                    method: 'POST',
                    body: formData
                });
            };

            const handleSubmit = async () => {
                setLoading(true);
                try {
                    await sendToTelegram();
                    setIsSuccess(true);
                } catch (e) { alert("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„"); }
                setLoading(false);
            };

            if (isSuccess) return (
                <div className="min-h-screen text-white flex items-center justify-center p-6 text-center">
                    <div className="bg-slate-900 p-10 rounded-[3rem] border border-emerald-500/20">
                        <div className="text-5xl mb-4">âœ…</div>
                        <h1 className="text-2xl font-bold">Ø±Ø³ÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯</h1>
                        <p className="text-slate-400 mt-4">Ù…Ù†ØªØ¸Ø± Ù¾ÛŒØ§Ù… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¨Ø§Ø´ÛŒØ¯.</p>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen text-slate-200 p-4 md:p-10">
                    <div className="max-w-xl mx-auto">
                        <div className="text-center mb-10">
                            <h1 className="text-4xl font-black text-white italic">NEXT<span className="text-sky-500">VPN</span></h1>
                        </div>

                        <div className="bg-slate-900/40 border border-slate-800 rounded-[2.5rem] overflow-hidden backdrop-blur-3xl shadow-2xl">
                            <div className="p-8 md:p-12 space-y-10">
                                {step === 1 && (
                                    <div className="space-y-10 animate-in">
                                        <div className="space-y-6">
                                            <div className="flex justify-between font-bold"><span>Ù…Ø¯Øª Ø§Ø¹ØªØ¨Ø§Ø±</span><span className="text-sky-500">{months} Ù…Ø§Ù‡Ù‡</span></div>
                                            <input type="range" min="1" max="12" value={months} onChange={(e)=>setMonths(e.target.value)} className="w-full h-1.5 bg-slate-800 rounded-lg accent-sky-500" />
                                        </div>
                                        <div className="space-y-6">
                                            <div className="flex justify-between font-bold"><span>Ø­Ø¬Ù… ØªØ±Ø§ÙÛŒÚ©</span><span className="text-purple-500">{volume} Ú¯ÛŒÚ¯</span></div>
                                            <input type="range" min="5" max="500" step="5" value={volume} onChange={(e)=>setVolume(e.target.value)} className="w-full h-1.5 bg-slate-800 rounded-lg accent-purple-500" />
                                        </div>
                                        <div className="bg-slate-950 p-6 rounded-3xl border border-slate-800 flex justify-between items-center">
                                            <span className="text-slate-500 text-sm">Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ:</span>
                                            <span className="text-2xl font-black text-white">{totalPrice.toLocaleString()} ØªÙˆÙ…Ø§Ù†</span>
                                        </div>
                                        <button onClick={()=>setStep(2)} className="w-full bg-sky-600 py-5 rounded-2xl font-bold">Ø¨Ø¹Ø¯ÛŒ â”</button>
                                    </div>
                                )}

                                {step === 2 && (
                                    <div className="space-y-8 animate-in">
                                        <h3 className="text-xl font-bold">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³</h3>
                                        <input type="text" placeholder="@Ø¢ÛŒØ¯ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…" value={contact} onChange={(e)=>setContact(e.target.value)} className="w-full bg-slate-950 border border-slate-800 rounded-2xl p-5 outline-none focus:border-sky-500" />
                                        <button onClick={()=>setStep(3)} className="w-full bg-sky-600 py-5 rounded-2xl font-bold text-white">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª</button>
                                        <button onClick={()=>setStep(1)} className="w-full text-slate-500 text-xs">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
                                    </div>
                                )}

                                {step === 3 && (
                                    <div className="space-y-8 animate-in text-center">
                                        <div className="bg-slate-950 p-6 rounded-3xl border border-slate-800 space-y-2">
                                            <div className="text-xs text-slate-500">Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª</div>
                                            <div className="text-xl font-black text-white tracking-widest">{CARD_NUMBER}</div>
                                            <div className="text-xs text-slate-400">Ø¨Ù†Ø§Ù…: {CARD_NAME}</div>
                                        </div>
                                        <div className="border-2 border-dashed border-slate-800 rounded-3xl p-6 cursor-pointer" onClick={()=>document.getElementById('file').click()}>
                                            {previewUrl ? <img src={previewUrl} className="h-32 mx-auto rounded-lg"/> : <div className="text-slate-500 text-sm">ğŸ“· Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ø±Ø³ÛŒØ¯</div>}
                                            <input type="file" id="file" hidden onChange={handleImageChange}/>
                                        </div>
                                        <button onClick={handleSubmit} disabled={loading || !receiptImage} className={`w-full py-5 rounded-2xl font-bold ${loading || !receiptImage ? 'bg-slate-800' : 'bg-emerald-600 shadow-lg shadow-emerald-900/20'}`}>
                                            {loading ? "Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„..." : "Ø§Ø±Ø³Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒ Ø±Ø³ÛŒØ¯"}
                                        </button>
                                        <button onClick={()=>setStep(2)} className="w-full text-slate-500 text-xs">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

